🚀 멀티플레이어 동기화 테스트 시작
📋 실행 전 확인사항:
   - HTTP 서버 (포트 8000): python -m http.server 8000
   - WebSocket 서버 (포트 8080): cargo run
   - Playwright 설치: npm install playwright

🎮 정확한 HTML 구조를 파악한 멀티플레이어 테스트 시작
🔍 서버 상태 확인 중...
✅ HTTP 서버 연결 확인됨
🔍 WebSocket 서버 상태 확인 중...
✅ WebSocket 서버 연결 확인됨
📄 페이지 로딩...
✅ JavaScript 로드 완료
📊 게임 객체 상태:
플레이어1: {
  exists: true,
  turn: 'W',
  roll: null,
  pieces: { W: [ 1, 3, 5, 7, 9 ], B: [ 2, 4, 6, 8, 10 ] }
}
플레이어2: {
  exists: true,
  turn: 'W',
  roll: null,
  pieces: { W: [ 1, 3, 5, 7, 9 ], B: [ 2, 4, 6, 8, 10 ] }
}
🎯 1단계: 플레이어1 방 생성
✅ 플레이어1 방 생성 성공
🎯 2단계: 플레이어2 방 목록 접속
🔄 방 목록 새로고침
✅ 방 목록 로드됨
📊 활성화된 참가 버튼 수: 1
🚪 방 참가 시도
✅ 플레이어2 방 참가 성공
🎯 3단계: 대기 화면 전환
✅ 양쪽 모두 대기 화면 진입
플레이어1 준비 버튼: "준비 취소"
플레이어2 준비 버튼: "준비"
플레이어2 준비 버튼 클릭 시도
플레이어1 준비 후 버튼: "준비 취소"
플레이어2 준비 후 버튼: "준비 취소"
🎯 4단계: 게임 시작
게임 시작 버튼 활성화 상태: true
방장이 게임 시작 버튼 클릭
✅ 게임 시작됨
📊 게임 시작 후 상태:
플레이어1: {
  gameState: 'playing',
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  gameId: '2c3f17d9-a96a-4c23-a913-a6f63dfe77cf'
}
플레이어2: {
  gameState: 'playing',
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  gameId: '2c3f17d9-a96a-4c23-a913-a6f63dfe77cf'
}
🎲 주사위 굴림 동기화 테스트 시작
📊 현재 턴 - 플레이어1: W, 플레이어2: W
🎯 플레이어1의 턴 - 주사위 굴림 시도
🎲 주사위 버튼 활성화 상태: true
🎲 플레이어1 주사위 굴림
📱 클릭 전 브라우저 콘솔 로그:
📱 클릭 전 상태: {
  gameExists: true,
  gameState: {
    turn: 'W',
    roll: null,
    isMultiplayer: true,
    playerId: '플레이어1',
    roomId: 'bfd651e0-b376-4f10-ad04-6ee803dc8243'
  }
}
📱 클릭 후 즉시 상태 확인:
📱 클릭 후 상태: {
  gameExists: true,
  gameState: {
    turn: 'W',
    roll: null,
    isMultiplayer: true,
    playerId: '플레이어1',
    roomId: 'bfd651e0-b376-4f10-ad04-6ee803dc8243'
  }
}
📱 클릭 후 브라우저 콘솔 로그:
📱 브라우저 콘솔: [
  '📊 초기 게임 상태 설정: [object Object]',
  '🎯 내 말 색상 설정: W',
  '🎮 게임 활성화 시작',
  '✅ 게임 활성화 완료',
  '✅ 멀티플레이어 게임 활성화 완료',
  '🎲 막대기 던지기 시작',
  '📊 현재 게임 상태: [object Object]',
  '🎯 멀티플레이어 모드 - 서버에 ROLL_STICKS 요청',
  '🎲 ROLL_STICKS 메시지 전송: [object Object]',
  '📤 서버로 메시지 전송: {"type":"ROLL_STICKS","timestamp":1756692350892,"data":{"roomId":"bfd651e0-b376-4f10-ad04-6ee803dc8243","playerId":"플레이어1","gameId":"2c3f17d9-a96a-4c23-a913-a6f63dfe77cf","turn":"W"}}'
]
⏳ 서버 응답 대기 중...
📊 실시간 로그 모니터링 시작...
⏱️ 0.5초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 1초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 1.5초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 2초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 2.5초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 3초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 3.5초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 4초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 4.5초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏱️ 5초 후 상태: {
  roll: null,
  turn: 'W',
  pieces: { B: [ 2, 4, 6, 8, 10 ], W: [ 1, 3, 5, 7, 9 ] },
  websocketState: 1
}
⏳ 주사위 결과 업데이트 대기 중...
⚠️ 주사위 결과 업데이트 타임아웃
❌ 주사위 굴림 테스트 오류: page.evaluate: Target page, context or browser has been closed
    at testDiceRollingSync (/Users/pobsiz/Desktop/PROJECT/mini-game/test-multiplayer-sync-fixed.js:509:35)
    at async testMultiplayerSync (/Users/pobsiz/Desktop/PROJECT/mini-game/test-multiplayer-sync-fixed.js:345:7)
🐘 말 이동 동기화 테스트 시작
❌ 말 이동 테스트 오류: page.evaluate: Target page, context or browser has been closed
    at testPieceMovementSync (/Users/pobsiz/Desktop/PROJECT/mini-game/test-multiplayer-sync-fixed.js:594:38)
    at testMultiplayerSync (/Users/pobsiz/Desktop/PROJECT/mini-game/test-multiplayer-sync-fixed.js:348:13)
❌ 테스트 오류: page.waitForTimeout: Target page, context or browser has been closed
    at testMultiplayerSync (/Users/pobsiz/Desktop/PROJECT/mini-game/test-multiplayer-sync-fixed.js:369:17)
✅ 테스트 완료
