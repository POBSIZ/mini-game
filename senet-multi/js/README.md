# 세넷 멀티플레이어 - 모듈화된 구조

이 프로젝트는 기존의 단일 `script.js` 파일을 기능별로 모듈화하여 관리하기 쉽게 만든 구조입니다.

## 모듈 구조

### 📁 js/
- **main.js** - 메인 진입점 및 초기화
- **game-state.js** - 게임 상태 관리
- **websocket.js** - WebSocket 연결 및 메시지 처리
- **ui-manager.js** - UI 화면 전환 및 관리
- **chat-system.js** - 채팅 시스템
- **room-manager.js** - 방 관리 기능
- **game-logic.js** - 게임 로직 및 규칙

## 각 모듈의 역할

### main.js
- 애플리케이션 초기화
- 전역 함수 노출 (HTML에서 onclick 이벤트 사용)
- URL 파라미터 처리

### game-state.js
- 현재 플레이어 정보 관리
- 현재 방 정보 관리
- 게임 상태 관리
- 대기실 상태 관리
- 상태 리셋 및 업데이트 함수

### websocket.js
- WebSocket 연결 관리
- 서버 메시지 처리
- 하트비트 관리
- 메시지 전송 함수

### ui-manager.js
- 화면 전환 관리
- 메시지 표시
- 방 목록 업데이트
- 플레이어 목록 업데이트
- 시작 버튼 상태 관리

### chat-system.js
- 채팅 메시지 전송
- 시스템 메시지 추가
- 플레이어 메시지 추가
- 채팅 영역 초기화

### room-manager.js
- 방 생성/참가
- 방 나가기
- 게임 시작 요청
- 준비 상태 변경
- 게임 리셋 요청

### game-logic.js
- 게임 보드 그리기
- 말 이동 로직
- 승리 조건 확인
- 이동 가능한 말 하이라이트
- 애니메이션 처리

## 사용 방법

1. HTML에서 `js/main.js`를 모듈로 로드:
```html
<script type="module" src="js/main.js"></script>
```

2. 각 모듈은 ES6 모듈 시스템을 사용하여 import/export

3. 전역 함수들은 `window` 객체에 노출되어 HTML에서 직접 호출 가능

## 장점

- **관심사 분리**: 각 모듈이 특정 기능만 담당
- **유지보수성**: 특정 기능 수정 시 해당 모듈만 수정
- **재사용성**: 모듈을 다른 프로젝트에서 재사용 가능
- **테스트 용이성**: 각 모듈을 독립적으로 테스트 가능
- **코드 가독성**: 파일 크기가 작아져서 이해하기 쉬움

## 주의사항

- 순환 참조를 피하기 위해 일부 모듈은 전역 객체를 통해 참조
- HTML의 onclick 이벤트에서 사용하는 함수들은 전역으로 노출
- 모듈 간 의존성을 최소화하여 유지보수성 향상
